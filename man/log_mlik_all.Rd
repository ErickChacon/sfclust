% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model-within.R
\name{log_mlik_all}
\alias{log_mlik_all}
\title{Calculate Log Marginal Likelihood for All Clusters}
\usage{
log_mlik_all(
  stars_obj,
  membership,
  formula,
  family = "normal",
  correction = FALSE,
  stnames,
  N_var,
  ...
)
}
\arguments{
\item{stars_obj}{A stars object containing spatial data, including covariates and response variables.}

\item{membership}{Integer vector indicating the cluster membership for each observation.}

\item{formula}{An object of class \code{\link[stats]{formula}} specifying the model to be used in INLA.}

\item{family}{Character string specifying the family of distributions to use for the model. Defaults to "normal".}

\item{correction}{Logical indicating whether a correction for dispersion or other factors should be applied. Defaults to FALSE.}

\item{stnames}{The name of the time variable in the stars object.}

\item{N_var}{The name of the variable used as exposure or trials (for Poisson, binomial, etc.).}

\item{...}{Additional arguments passed to the underlying \code{log_mlik_each} function.}
}
\value{
A numeric vector containing the log marginal likelihood for each cluster.
}
\description{
This function computes the log marginal likelihood for each cluster specified in the membership vector.
It applies a specified model to each cluster to calculate the likelihood.
}
\examples{
\dontrun{
log_mlikelihoods <- log_mlik_all(stars_obj, membership, family = "poisson", formula = Y
~ temperature + precipitation, stnames = "time", N_var = "expected_cases")
}
}
